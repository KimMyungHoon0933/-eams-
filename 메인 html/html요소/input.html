<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>복학 신청 - 작성</title>
  <link rel="stylesheet" href="return.css">
</head>
<body>
  <main class="main">
    <header>
      <div class="crumbs">학사관리 &gt; 휴·복학 &gt; <strong>복학 신청</strong></div>
      <div class="titleRow">
        <h1 class="title">복학 신청</h1>
        <span class="statusBadge" id="statusBadge">임시저장</span>
      </div>
    </header>

    <form class="card" id="returnForm">
      <!-- STEP 1 -->
      <section class="section" data-pane="1">
        <h2>학생 기본정보</h2>
        <div class="grid2">
          <label class="field"><span>학번</span><input type="text" name="studentId" required></label>
          <label class="field"><span>이름</span><input type="text" name="name" required></label>
          <label class="field"><span>학과</span><input type="text" name="dept" required></label>
          <label class="field"><span>연락처</span><input type="tel" name="phone"></label>
          <label class="field"><span>이메일</span><input type="email" name="email"></label>
          <label class="field"><span>주소</span><input type="text" name="addr"></label>
        </div>
        <div class="sectionActions">
          <button type="button" class="btn secondary" id="save1">임시저장</button>
          <button type="button" class="btn primary" data-next="2">다음</button>
        </div>
      </section>

      <!-- STEP 2 -->
      <section class="section" data-pane="2" hidden>
        <h2>학적/복학 정보</h2>
        <div class="grid2">
          <label class="field"><span>휴학 구분</span>
            <select name="leaveType" required>
              <option value="" disabled selected>선택</option>
              <option>일반휴학</option>
              <option>군휴학</option>
              <option>질병휴학</option>
              <option>기타</option>
            </select>
          </label>
          <label class="field"><span>복학 희망 학기</span>
            <select name="returnTerm" required>
              <option value="" disabled selected>선택</option>
              <option>2025-1</option>
              <option>2025-2</option>
              <option>2026-1</option>
              <option>2026-2</option>
            </select>
          </label>
          <label class="field"><span>복학 사유</span><input type="text" name="reason"></label>
          <label class="field"><span>희망 수강학점</span><input type="number" name="credits" min="0" max="24"></label>
          <label class="field field-full"><span>비고</span><textarea name="memo" rows="4"></textarea></label>
        </div>

        <div class="divider"></div>

        <div class="grid2">
          <div class="field">
            <span>증빙 첨부 (선택)</span>
            <input type="file" id="fileInput" multiple>
            <ul class="fileList" id="fileList"></ul>
            <p class="hint">군/질병 휴학 등 해당 시 증빙파일(PDF, JPG 등)을 첨부하세요.</p>
          </div>
          <div class="notice">
            <h3>유의사항</h3>
            <ul>
              <li>제출 후에는 담당자 검토까지 수정이 제한됩니다.</li>
              <li>복학 학기 변경은 마감일 이전에만 가능합니다.</li>
              <li>승인 완료 후 자동으로 학적 상태가 “재학”으로 전환됩니다.</li>
            </ul>
          </div>
        </div>

        <div class="sectionActions">
          <button type="button" class="btn ghost" data-prev="1">이전</button>
          <button type="button" class="btn secondary" id="save2">임시저장</button>
          <!-- 제출 → 상태 페이지로 이동 -->
          <button type="submit" class="btn primary">제출하고 진행상태 보기</button>
        </div>
      </section>
    </form>

    <section class="bottomInfo">
      <strong>기타 안내</strong>
      <span>복학 신청 마감: 학기 개강 2주 전 / 문의: 학사지원팀 02-000-0000</span>
    </section>
  </main>

  <script>
    // 단계 전환 (상단 메뉴바 없이 버튼으로만)
    const panes = document.querySelectorAll('[data-pane]');
    function goStep(n){
      panes.forEach(p => p.hidden = p.dataset.pane !== String(n));
      window.scrollTo({top: 0, behavior: 'smooth'});
    }
    document.querySelectorAll('[data-next]').forEach(b => b.onclick = () => goStep(b.dataset.next));
    document.querySelectorAll('[data-prev]').forEach(b => b.onclick = () => goStep(b.dataset.prev));

    // 파일 목록 표시
    const fileInput = document.getElementById('fileInput');
    const fileList = document.getElementById('fileList');
    if (fileInput) {
      fileInput.addEventListener('change', ()=>{
        fileList.innerHTML = '';
        Array.from(fileInput.files || []).forEach(f=>{
          const li = document.createElement('li'); li.textContent = f.name; fileList.appendChild(li);
        });
      });
    }

    // 임시저장 표시
    const badge = document.getElementById('statusBadge');
    ;['save1','save2'].forEach(id=>{
      const el = document.getElementById(id);
      if (el) el.addEventListener('click', ()=>{ badge.textContent = '임시저장'; alert('임시저장 되었습니다.'); });
    });

    // 제출 → 상태 페이지로 이동 (데모용)
    document.getElementById('returnForm').addEventListener('submit', (e)=>{
      e.preventDefault();
      badge.textContent = '제출됨';
      // 실제 서비스에서는 서버에 저장 후 쿼리스트링/신청번호로 넘기세요.
      window.location.href = 'return-status.html';
    });
  </script>
</body>
</html>
