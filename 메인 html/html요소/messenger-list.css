:root{
  --accent:#9be41f;              /* 브랜드 포인트 */
  --bg:#ffffff;
  --surface:#fff;
  --ink:#0f172a;                 /* neutral ink */
  --muted:#71717a;               /* subtle text */
  --line:#eceff3;                /* very light divider */
  --shadow: 0 6px 18px rgba(15,23,42,.06);
}

@media (prefers-color-scheme: dark){
  :root{
    --bg:#0b0f14;
    --surface:#0f1520;
    --ink:#e6e8eb;
    --muted:#9aa1a9;
    --line:#1f2630;
    --shadow: 0 10px 30px rgba(0,0,0,.35);
  }
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0; background:var(--bg); color:var(--ink);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Apple SD Gothic Neo, Malgun Gothic, Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
}

/* App frame (mobile width, center on desktop) */
.app{
  width:min(420px, 100%);
  height:50dvh;              /* ✅ 세로를 절반으로 줄임 */
  margin:0 auto;
  background:var(--surface);
  display:grid;
  grid-template-rows:auto auto 1fr auto;
  position:relative;
  box-shadow: var(--shadow);
  border-radius:16px;
  overflow:hidden;
}


/* AppBar */
.appbar{
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 14px; border-bottom:1px solid var(--line);
  background:var(--surface);
  position:sticky; top:0; z-index:2;
}
.brand{ display:flex; gap:10px; align-items:center; }
.brand h1{ margin:0; font-size:18px; font-weight:800; letter-spacing:.2px; }
.icon{
  width:36px; height:36px; border:none; background:transparent; color:var(--ink);
  display:grid; place-items:center; border-radius:10px; cursor:pointer;
}
.icon.ghost{ width:32px; height:32px; }
.icon:hover{ background:rgba(153, 231, 31, .08); }
.icon:active{ transform:translateY(1px); }

.avatar{
  border-radius:50%; 
  display:grid; 
  place-items:center; 
  font-weight:800;
  background:#fff;                  /* ✅ 배경 흰색 */
  color:var(--ink);                 /* 텍스트 색은 메인 글자색 */
  border:1.5px solid var(--line);   /* 연한 라인 */
}
.avatar.sm{ width:28px; height:28px; font-size:12px; }
.avatar.lg{ width:48px; height:48px; font-size:14px; }
.avatar::after{ content:attr(data-initial); }


/* Sticky search row */
.search-row{
  padding:10px 12px; border-bottom:1px solid var(--line); background:var(--surface); position:sticky; top:54px; z-index:1;
}
.search{
  width:100%; padding:11px 12px; border-radius:12px; border:1px solid var(--line); outline:none;
  background:transparent; color:var(--ink); font-size:14px;
}
.search:focus{ border-color:var(--accent); box-shadow:0 0 0 3px rgba(155,228,31,.25); }

/* List */
.list{ overflow:auto; background:var(--surface); }
.chat{
  display:flex; gap:12px; align-items:center; padding:12px 14px;
  border-bottom:1px solid var(--line); text-decoration:none; color:inherit;
}
.chat:hover{ background:rgba(153, 231, 31, .05); }
.chat.pinned{ background:rgba(153, 231, 31, .04); }
.chat.muted .name{ opacity:.85; }

.content{ flex:1; min-width:0; }
.top{ display:flex; justify-content:space-between; align-items:center; gap:10px; }
.name{
  font-weight:700; font-size:15px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.time{ font-size:12px; color:var(--muted); flex:0 0 auto; }
.bottom{ display:flex; justify-content:space-between; align-items:center; gap:10px; }
.preview{
  color:var(--muted); font-size:13px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:220px;
}
.unread .name{ font-weight:800; }
.unread .preview{ color:#2b3d00; }

.badges{ display:flex; gap:6px; align-items:center; }
.pill{
  display:inline-grid; place-items:center;
  height:20px; min-width:20px; padding:0 8px;
  border-radius:999px; background:var(--accent); color:#0c2300; font-weight:800; font-size:12px;
}
.pill.pin, .pill.mute{ background:transparent; color:var(--muted); border:1px solid var(--line); }

/* Bottom nav */
.nav{
  display:grid; grid-template-columns:repeat(3,1fr); border-top:1px solid var(--line); background:var(--surface);
}
.nav-btn{
  padding:12px 6px; background:transparent; border:none; cursor:pointer; font-weight:700; color:var(--muted);
}
.nav-btn.active{ color:var(--ink); border-top:2px solid var(--accent); }

/* FAB */
.fab{
  position:absolute; right:16px; bottom:76px;
  width:56px; height:56px; border-radius:50%; border:none; cursor:pointer;
  background:linear-gradient(180deg,#b8ff45,#9be41f);
  color:#0c2300; font-size:26px; font-weight:900; box-shadow:0 12px 24px rgba(155,228,31,.45);
}
.fab:active{ transform:translateY(1px); }

/* Scrollbar (Chromium) */
.list::-webkit-scrollbar{ width:10px; }
.list::-webkit-scrollbar-thumb{ background:#e7f8bf; border-radius:999px; }
.list::-webkit-scrollbar-track{ background:transparent; }
