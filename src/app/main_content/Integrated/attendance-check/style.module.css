/* style.module.css */

.layout {
    padding: 20px;
    background-color: #f4f4f9;
}

.topbar {
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 1px solid #ccc;
}

.crumbs {
    font-size: 0.9em;
    color: #666;
}

.title {
    font-size: 1.8em;
    margin: 5px 0 15px;
}

.controls {
    display: flex;
    gap: 10px;
}

.classSelect, .roleSelect {
    padding: 8px;
    border-radius: 4px;
}

/* ✅ 수업이 있는 요일의 셀 스타일 (새로 추가) */
.classDay {
    /* 기존 날짜 셀의 배경색보다 조금 더 진하게 */
    background-color: #f0f7ff; /* 연한 파란색으로 하이라이트 */
    border-color: #a8d9ff;
    font-weight: 600;
}

/* 수업은 있지만, 출결 데이터가 없는 날의 배경색도 구별하기 위해 'noData'를 수정합니다. */
.noData { 
    background-color: #f8f8f8; 
    color: #6c757d; 
    /* 수업이 있는 날이 noData 상태일 때 classDay가 이 값을 덮어쓰도록 순서를 유지합니다. */
}

/* .day는 기존에 정의된 스타일이 있어야 합니다. */
.day {
    padding: 10px;
    border: 1px solid #eee;
    text-align: center;
    min-height: 80px;
}

.calendarContainer {
    max-width: 900px;
    margin: 0 auto;
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.calendarNav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    padding: 0 5px; /* 버튼과 h2 정렬을 위해 추가 */
}

/* ⭐️ 핵심: 7열 격자 정의 */
.calendar {
    display: grid;
    /* 7개의 컬럼을 균등하게 분할 */
    grid-template-columns: repeat(7, 1fr); 
    width: 100%;
    border: 1px solid var(--line, #ccc);
    border-radius: 4px;
    overflow: hidden; /* 경계 처리 */
}

/* 요일 이름 */
.dayName {
    padding: 10px;
    border: 1px solid var(--line, #eee);
    text-align: center;
    background-color: #e0e0e0;
    font-weight: bold;
    font-size: 0.9em;
}

/* ⭐️ 핵심: 날짜 셀 스타일 */
.day {
    padding: 5px; /* 내부 여백 축소 */
    border: 1px solid var(--line, #eee);
    text-align: left; /* 날짜 숫자를 왼쪽으로 */
    min-height: 90px; /* 최소 높이 지정 (포스트가 들어갈 공간 확보) */
    position: relative;
    cursor: default;
    transition: background-color 0.1s;
}

.day:hover {
    box-shadow: inset 0 0 0 1px var(--accent, #3b82f6);
}

.otherMonth {
    background-color: var(--bg, #f4f4f9);
    color: var(--sub, #aaa);
}

.today {
    border: 2px solid var(--accent, #3b82f6) !important;
    background-color: var(--accent-light, #eaf2ff);
}

.dateNumber {
    display: block;
    font-size: 1.1em;
    font-weight: 600;
    margin-bottom: 5px;
}

.pillsContainer {
    display: flex;
    flex-direction: column; /* 포스트를 수직으로 쌓기 */
    gap: 2px;
    margin-top: 5px;
    line-height: 1;
}

.statusPill {
    display: inline-block;
    padding: 2px 5px;
    margin-right: 3px;
    border-radius: 9999px; /* 둥근 모양 */
    font-size: 0.7em; /* 글자 크기 축소 */
    font-weight: 500;
    white-space: nowrap;
    text-align: center;
}

/* 포스트 색상 정의 */
.present { background-color: var(--color-green-light, #d4edda); color: var(--color-green-dark, #155724); }
.late { background-color: var(--color-yellow-light, #ffeeba); color: var(--color-yellow-dark, #856404); }
.leave { background-color: var(--color-blue-light, #cfe2ff); color: var(--color-blue-dark, #084298); }
.absent { background-color: var(--color-red-light, #f8d7da); color: var(--color-red-dark, #721c24); }
.noData { background-color: var(--color-gray-light, #f8f9fa); color: var(--color-gray-dark, #6c757d); border: 1px solid #dee2e6; }


/* --- 범례 스타일 --- */
.legend {
    margin-top: 20px;
    padding: 10px;
    border-top: 1px solid #ccc;
    display: flex;
    gap: 15px;
    align-items: center;
    font-size: 0.9em;
}

.statusBox {
    display: inline-block;
    padding: 5px 10px;
    border-radius: 4px;
    font-size: 0.9em;
    font-weight: 600;
}   

.calendarNav button {
    padding: 8px 15px;
    font-size: 1em;
    cursor: pointer;
    border: 1px solid #ddd;
    background: #f0f0f0;
    border-radius: 4px;
}

.calendarNav h2 {
    font-size: 1.5em;
    margin: 0;
}

.calendarGrid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    border-top: 1px solid #eee;
    border-left: 1px solid #eee;
}

.dayName {
    background-color: #e0e0e0;
    font-weight: bold;
    padding: 10px;
    text-align: center;
    border-right: 1px solid #eee;
    border-bottom: 1px solid #eee;
}

.day {
    padding: 10px;
    min-height: 80px;
    border-right: 1px solid #eee;
    border-bottom: 1px solid #eee;
    text-align: right;
    cursor: pointer;
    position: relative;
    transition: background-color 0.2s;
}

.day:hover {
    background-color: #fafafa;
}

.day strong {
    display: block;
    font-size: 1.2em;
    margin-bottom: 5px;
}

/* 출결 상태 색상 */
.present { background-color: #d4edda; color: #155724; } /* 녹색 */
.late { background-color: #ffeeba; color: #856404; }    /* 노란색 */
.absent { background-color: #f8d7da; color: #721c24; }  /* 빨간색 */
.unknown { background-color: #f8f8f8; color: #6c757d; } /* 회색 */
.noClass { background-color: #f8f8f8; color: #ccc; cursor: default; } 

.summary, .myStatus {
    display: block;
    font-size: 0.85em;
    text-align: left;
    margin-top: 5px;
    padding: 2px 0;
    font-weight: normal;
}

/* 범례 */
.legend {
    margin-top: 20px;
    padding: 10px;
    text-align: center;
}
.statusBox {
    display: inline-block;
    padding: 5px 10px;
    margin-left: 10px;
    border-radius: 4px;
    font-size: 0.9em;
}

/* Modal */
.modalBackdrop {
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.5);
    display: flex;
    justify-content: center;
    align-items: center;
}

.modalContent {
    background-color: #fff;
    padding: 25px;
    border-radius: 8px;
    width: 90%;
    max-width: 900px; /* 모달 폭 증가 (테이블 공간 확보) */
    position: relative;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    max-height: 90vh; /* 화면 높이 제한 */
    overflow-y: auto; /* 내용이 많으면 스크롤 */
}

.close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
}

.modalBody {
    padding-top: 15px;
}

.modalFooter {
    margin-top: 20px;
    display: flex;
    justify-content: flex-end;
    gap: 10px;
}

.dataTable {
    width: 100%;
    border-collapse: collapse;
    margin-top: 15px;
    font-size: 0.9em;
    table-layout: fixed; /* 테이블 폭 고정 */
}
.dataTable th, .dataTable td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: left;
}
.dataTable th, .dataTable td {
    border: 1px solid var(--line, #ddd);
    padding: 10px;
    text-align: center;
}

.dataTable th {
    background-color: var(--bg, #f4f4f9);
    font-weight: 600;
}

/* 버튼 스타일 ( AttendanceContent.js의 style.module.css에서 가져왔다고 가정 ) */
.btn {
    padding: 10px 15px;
    border: 1px solid transparent;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.2s;
}

.btn.primary {
    background-color: #4c51bf; /* 예시 색상 */
    color: #fff;
}
.btn.primary:hover {
    background-color: #3f45a0;
}

.primaryBtn {
    background-color: #007bff;
    color: white;
    border: none;
    padding: 10px 15px;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 15px;
}
.ghostBtn {
    background-color: transparent;
    color: #007bff;
    border: 1px solid #007bff;
    padding: 10px 15px;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 15px;
}

.formInput {
    width: 100%;
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 4px;
    box-sizing: border-box;
    margin-top: 5px;
}